<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   
</head>
<body>

  
<script>
    //works on Microsoft Edge and Mozilla Firefox
    play("https://images.all-free-download.com/footage_preview/webm/horses_101.webm")    


async function createVideo(src)
{
        let video = document.createElement('video')
        video.setAttribute('controls','controls' )
        video.setAttribute('id','video')
         let source = document.createElement('source')
         video.src= src
         video.type = "video/mp4"
         video.appendChild(source)
    try {
        await video.onload
        document.body.append(video)
    } catch(err) {
        alert(err);
    }

}


//Autoplay policy have changed for Google chrome
//Autoplay works fine in chrome and mozilla firefox but not in chrome due to policy changes.
async function play(source) {
    await createVideo(source)
    var video = document.getElementById("video");     
    var promise = video.play();

    if (promise !== undefined) {
        promise.then(_ => {
        // Autoplay started!
    }).catch(error => {
        alert("Autoplay was prevented \nClick on play to start video")
    });
   } 
}

    </script>
    
</body>
</html>
